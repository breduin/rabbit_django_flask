# rabbit_django_flask
Тестовый проект, в котором два приложения (на Django и Flask) взаимодействуют посредством RabbitMQ.

Код по видео https://youtu.be/ddrucr_aAzA?feature=shared с поправками на PostgreSQL, более свежие версии ПО.

# Требования

Для запуска на локальном хосте должен быть установлен и запущен сервер RabbitMQ (стандартный порт 5672).

# Запуск

## Django-проект (admin)

Перейти в папку admin и запустить контейнеры со сборкой:
```sh
docker-compose up --build
```
Процесс слушает порт 8000.

## Flask-проект (main)

Перейти в папку main и запустить контейнеры со сборкой:
```sh
docker-compose up --build
```
Процесс слушает порт 8001.

# Эндпойнты

Список продуктов:
```sh
GET http://127.0.0.1:8000/api/products
```

Создать продукт:
```sh
POST http://127.0.0.1:8000/api/products
{
  "title": "title",
  "image": "image"
}
```

Лайкнуть продукт:
```sh
POST http://127.0.0.1:8001/api/products/<ID продукта>/like
без тела
```

# В чем прикол?

Один из процессов взаимодействия: лайк продукта обрабатывается во flask-приложении, далее сообшение об этом событии помещается в брокер RabbitMQ, который отправляет сообщение в Django-приложение, которое в свою очередь увеличивает счетчик лайков у данного продукта.
